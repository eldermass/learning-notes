<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<script>
			//模拟了一个ajax请求的实例
			let status =200;
			let userLogin = (resolve,reject) => {
				setTimeout(()=>{
					if(status == 200){
						resolve({msg:'登陆成功',data:'用户信息'})
					}else{
						reject('登陆失败');
					}
				},1000);
			}
			let userInfo = (resolve,reject) =>{
				setTimeout(()=>{
					if(status == 200){
						resolve({msg:'获取用户信息成功',data:'asdasda',token:'fffffff'});
					}else{
						reject('获取用户信息失败');
					}
				},1000)
			}
			new Promise(userLogin).then(res=>{
				console.log('登陆成功');
				return new Promise(userInfo);
			}).then(res=>{
				console.log('获取用户信息成功')
				console.log(res);
			})
		</script>
	</body>
</html>
