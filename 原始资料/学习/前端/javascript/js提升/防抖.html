<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<input type="text" id="input" />
		<script>
			let inp = document.getElementById('input')
			let timer = null
			//让高频率的操作，频率降低，mousemove这样的
			function ajax(e){
				console.log(this,e)
			}
//			inp.onkeyup = function (){
//				let self = this,
//					agrs = arguments;
//				clearTimeout(timer)
//				timer = setTimeout(function (){
//					ajax.apply(self,agrs)
//				},1000)
//			}
			inp.onkeyup = debounce(ajax,1000)
			
			//封装 防抖函数
			function debounce(fn, delay){
				let timer = null
				return function (){
					let self = this,
						args = arguments
					clearTimeout(timer)
					timer = setTimeout(function(){
						fn.apply(self,args)
					},delay)
				}
			}
		</script>
	</body>
</html>
